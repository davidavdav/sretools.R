#!/usr/bin/perl -w

use Getopt::Long;
$cond=6;
GetOptions("cond=i" => \$cond);
$cond--;			# count from 0

## 2008
open IN, "cat key/NIST_SRE08_short2-short3.trial.key |" or die;
while (<IN>) {
    chomp;
    ($model, $sph, $chan, undef ,@cond)=split ",";
    $key="$model-$sph-$chan";
    $ok{$key}=1 if $cond[$cond] eq 'Y';
}

while (<>) {
    (undef, undef, undef, undef, $model, $test, $chan)=split;
    $key="$model-$test-$chan";
    print if defined $ok{$key};
}
